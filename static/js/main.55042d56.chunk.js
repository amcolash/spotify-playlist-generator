(this["webpackJsonpspotify-playlist-generator"]=this["webpackJsonpspotify-playlist-generator"]||[]).push([[0],{51:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n.n(r),c=n(17),i=n.n(c),s=n(3),o=n(5),u=n(1),l=n.n(u),d=n(4),f=n(53),p=n(0);function b(t){return Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)("h2",{children:t.text}),Object(p.jsx)(f.a,{size:40,thickness:200,speed:100,color:"#179433",secondaryColor:"#202324"})]})}var j=Object(s.c)({display:"flex",alignItems:"center",margin:8});function h(t){var e=t.song;return Object(p.jsxs)("div",{className:j,children:[Object(p.jsx)("div",{className:"cover",style:{backgroundImage:e.album.images[2]?"url(".concat(e.album.images[2].url,")"):""}}),Object(p.jsxs)("div",{style:{marginLeft:10},children:[e.name," - ",e.artists[0].name]})]},e.id)}var m=Object(s.c)({$nest:{".box":{display:"inline-flex",alignItems:"center",padding:"8px 12px",cursor:"pointer",transition:"background 0.25s",$nest:{"&:hover":{background:"#333"}}}}});function g(t){var e=t.playlist;return Object(p.jsx)("div",{className:m,children:Object(p.jsxs)("div",{className:"box",onClick:function(){return t.generatePlaylist(e.id)},children:[Object(p.jsx)("div",{className:"cover",style:{backgroundImage:e.images[2]?"url(".concat(e.images[2].url,")"):e.images[0]?"url(".concat(e.images[0].url,")"):""}}),Object(p.jsx)("div",{style:{marginLeft:10},children:e.name})]})},e.id)}function y(t){return Object(p.jsxs)("div",{style:{height:"100%",width:"100%",marginTop:36,marginLeft:20},children:[Object(p.jsx)("h2",{style:{marginLeft:8,marginTop:12},children:"Choose a Playlist"}),t.playlists.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(e){return e.name&&e.name.length>0&&Object(p.jsx)(g,{playlist:e,generatePlaylist:t.generatePlaylist},e.id)}))]})}var x=n(19),O=n(18);var v=new(n.n(O).a);function k(t){return w.apply(this,arguments)}function w(){return(w=Object(d.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(d.a)(l.a.mark((function t(n,r){var a,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],c=0;case 2:if(!(c>=0)){t.next=10;break}return t.next=5,e(c);case 5:i=t.sent,a.push.apply(a,Object(x.a)(i.body.items)),c=i.body.next?c+1:-1,t.next=2;break;case 10:n(a);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return(S=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k((function(t){return v.getUserPlaylists({limit:50,offset:50*t})})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){return I.apply(this,arguments)}function I(){return(I=Object(d.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",k((function(t){return v.getPlaylistTracks(e,{limit:100,offset:100*t})})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(d.a)(l.a.mark((function t(n,r){var a,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],c="",i=1;case 3:if(!(i<=e.length)){t.next=16;break}if(!e[i-1].is_local){t.next=6;break}return t.abrupt("continue",13);case 6:if(c+=e[i-1].track.id+(i%5!==0?",":""),i%5!==0){t.next=13;break}return t.next=10,v.getRecommendations({seed_tracks:c,limit:10});case 10:t.sent.body.tracks.forEach((function(t){-1===a.findIndex((function(e){return e.id===t.id}))&&a.push(t)})),c="";case 13:i++,t.next=3;break;case 16:n(a);case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(d.a)(l.a.mark((function t(n,r){var a,c,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=prompt("Name of playlist?"))&&0!==a.length){t.next=4;break}return r(),t.abrupt("return");case 4:return t.next=6,v.createPlaylist(a);case 6:c=t.sent,i=0;case 8:if(!(i<e.length)){t.next=14;break}return t.next=11,v.addTracksToPlaylist(c.body.id,e.slice(i,i+100).map((function(t){return t.uri})));case 11:i+=100,t.next=8;break;case 14:window.open(c.body.external_urls.spotify,"_blank"),n();case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var T=Object(s.c)({height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:20,marginLeft:20});function B(){var t=Object(r.useState)(),e=Object(o.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(!1),i=Object(o.a)(c,2),s=i[0],u=i[1],f=Object(r.useState)(),j=Object(o.a)(f,2),m=j[0],g=j[1];Object(r.useEffect)((function(){(function(){return S.apply(this,arguments)})().then((function(t){return a(t)}))}),[]);var x=function(){var t=Object(d.a)(l.a.mark((function t(e){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,C(e);case 3:return n=t.sent,t.next=6,P(n);case 6:r=t.sent,g(r),u(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:T,children:[!n&&Object(p.jsx)(b,{text:"Loading Your Playlists"}),!s&&n&&!m&&Object(p.jsx)(y,{playlists:n,generatePlaylist:x}),s&&Object(p.jsx)(b,{text:"Finding Related Music"}),m&&Object(p.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:60,marginBottom:14},children:[Object(p.jsx)("button",{onClick:function(){return g(void 0)},style:{marginRight:30},children:"Back"}),Object(p.jsx)("button",{onClick:Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(m);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:"Save My Playlist"})]}),m.map((function(t){return Object(p.jsx)(h,{song:t},t.id)}))]})]})}function M(t){var e,n=function(){for(var t={},e=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1),r=e.exec(n);r;)t[r[1]]=decodeURIComponent(r[2]),r=e.exec(n);return t}();if(n.access_token&&n.state===localStorage.getItem("spotifyState"))t(!0),e=n.access_token,v.setAccessToken(e),window.location.hash="";else{var r=Math.random().toString(),a=!localStorage.getItem("spotifyState");localStorage.setItem("spotifyState",r);var c="https://accounts.spotify.com/authorize?client_id=".concat("c2fc1a6c5ec54aa2819513c41fc6d12f","&response_type=token&redirect_uri=").concat("http://localhost:3000","&scope=").concat(["playlist-read-private","playlist-modify-public"],"&state=").concat(r,"&show_dialog=").concat(a);window.location.href=c}}function N(t){var e=!localStorage.getItem("spotifyState");return Object(r.useEffect)((function(){e||M(t.setAuthenticated)}),[t,e]),e?Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(p.jsx)("h1",{style:{marginBottom:0,fontSize:72},children:"[DiscoList]"}),Object(p.jsx)("h3",{style:{marginTop:4,marginBottom:80},children:"Smart Music Discovery"}),Object(p.jsx)("h2",{children:"Please Login to Spotify"}),Object(p.jsx)("button",{onClick:function(){return M(t.setAuthenticated)},children:"Login"})]}):Object(p.jsx)(b,{text:"Logging In"})}var A=n.p+"static/media/Spotify_Logo_RGB_Green.0c4ae91b.png",z=Object(s.c)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh",overflowX:"hidden"});Object(s.a)(".cover",{backgroundSize:"cover",backgroundPosition:"center",height:50,width:50,border:"1px solid #555"});var R=function(){var t=Object(r.useState)(!1),e=Object(o.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(),i=Object(o.a)(c,2),s=i[0],u=i[1];return Object(r.useEffect)((function(){n&&v.getMe().then((function(t){return u(t.body)}))}),[n]),Object(p.jsxs)("div",{className:"App ".concat(z),children:[!n&&Object(p.jsx)(N,{setAuthenticated:a}),n&&Object(p.jsx)(B,{}),s&&Object(p.jsxs)("div",{style:{position:"absolute",top:20,right:n?30:20},children:[s.display_name,Object(p.jsx)("button",{style:{marginLeft:20},onClick:function(){return localStorage.removeItem("spotifyState"),a(!1),void u(void 0)},children:"Logout"})]}),Object(p.jsxs)("div",{style:{position:"absolute",bottom:10,right:n?30:20,textAlign:"right"},children:[Object(p.jsx)("h3",{style:{marginBottom:10},children:"Powered By"}),Object(p.jsx)("img",{src:A,style:{height:35},alt:"Spotify Logo"})]})]})};Object(s.a)("body",{margin:0,background:"#151515",color:"#eee",fontFamily:"'Montserrat', sans-serif",fontSize:20,scrollbarColor:"#454a4d #202324"}),Object(s.a)("button",{fontSize:16,fontWeight:"bold",minWidth:100,padding:10,borderRadius:500,background:"#179433",border:"none",color:"#eee",textTransform:"uppercase",transition:"background 0.25s",cursor:"pointer",$nest:{"&:hover":{background:"#18AC4D"}}}),Object(s.a)("::-webkit-scrollbar",{backgroundColor:"#202324"}),Object(s.a)("::-webkit-scrollbar-thumb",{backgroundColor:"#454a4d"});var E=Object(s.b)({"0%":{opacity:0},"100%":{opacity:1}});i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)("div",{style:{opacity:0,animation:E,animationDelay:"0.5s",animationDuration:"0.25s",animationFillMode:"forwards"},children:Object(p.jsx)(R,{})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.55042d56.chunk.js.map